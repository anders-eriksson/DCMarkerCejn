<UserControl
    x:Class="DCAdmin.View.LaserDataControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:l="clr-namespace:DCAdmin"
    xmlns:local="clr-namespace:DCAdmin.View"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:p="clr-namespace:DCAdmin.Properties"
    Width="498"
    d:DesignHeight="300"
    mc:Ignorable="d">
    <UserControl.Resources>
        <l:StringTrimConverter x:Key="TrimString" />
    </UserControl.Resources>
    <Grid
        x:Name="LayoutRoot"
        HorizontalAlignment="Stretch"
        VerticalAlignment="Stretch">
        <!--<Grid.RowDefinitions>
            <RowDefinition Height="50" />
            <RowDefinition Height="25" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>-->
        <DockPanel LastChildFill="True">
            <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
                <GroupBox Header="{x:Static p:Resources.SearchHeader}">
                    <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
                        <TextBlock Text="{x:Static p:Resources.ArticleNumber}" />
                        <TextBlock Width="5" Text=" " />
                        <TextBox
                            x:Name="SearchArticleNumber"
                            Grid.Column="1"
                            Width="100"
                            KeyUp="SearchArticleNumber_KeyUp"
                            LostFocus="SearchArticleNumber_LostFocus" />
                        <TextBlock Width="10" Text=" " />
                        <Button
                            x:Name="FindButton"
                            Click="FindButton_Click"
                            Content="{x:Static p:Resources.FindButtonHeader}" />
                    </StackPanel>
                </GroupBox>
                <TextBlock Width="10" Text=" " />
                <GroupBox Header="{x:Static p:Resources.FilterHeader}">
                    <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
                        <ComboBox
                            Width="100"
                            ItemsSource="{Binding Path=KeyCollection}"
                            SelectedValue="{Binding Path=FilterKey}"
                            SelectedValuePath="ValueKey" />
                        <TextBlock Width="8" Text=" " />
                        <TextBox
                            x:Name="ValueFilter"
                            Width="100"
                            Text="{Binding Path=FilterValue, Mode=TwoWay}" />
                    </StackPanel>
                </GroupBox>
            </StackPanel>
            <TextBlock
                x:Name="SearchError"
                Grid.Row="1"
                DockPanel.Dock="top"
                Foreground="Red"
                Text="{Binding Path=ErrorMessage}" />
            <DataGrid
                x:Name="laserDataDataGrid"
                Grid.Row="2"
                Height="Auto"
                Margin="10,13,10,10"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch"
                AutoGenerateColumns="False"
                CanUserAddRows="false"
                DockPanel.Dock="Top"
                EnableRowVirtualization="True"
                ItemsSource="{Binding Path=LaserDataCollection, Mode=TwoWay, IsAsync=True, UpdateSourceTrigger=PropertyChanged}"
                Loaded="laserDataDataGrid_Loaded"
                RowDetailsVisibilityMode="VisibleWhenSelected"
                RowEditEnding="laserDataDataGrid_RowEditEnding"
                ScrollViewer.CanContentScroll="True"
                ScrollViewer.HorizontalScrollBarVisibility="Auto"
                ScrollViewer.VerticalScrollBarVisibility="Auto"
                SelectedItem="{Binding Path=SelectedLaserDataRow, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                SelectionChanged="laserDataDataGrid_SelectionChanged"
                SelectionMode="Single"
                SelectionUnit="FullRow">

                <DataGrid.Columns>

                    <DataGridTextColumn
                        x:Name="f1Column"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding F1, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="F1" />
                    <DataGridTextColumn
                        x:Name="kantColumn"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding Kant, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="Kant" />
                    <DataGridTextColumn
                        x:Name="avdelningColumn"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding Avdelning, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="Avdelning" />
                    <DataGridTextColumn
                        x:Name="laserColumn"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding Laser, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="Laser" />

                    <DataGridTextColumn
                        x:Name="f2Column"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding F2, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="F2" />
                    <DataGridTextColumn
                        x:Name="f3Column"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding F3, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="F3" />
                    <DataGridTextColumn
                        x:Name="f4Column"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding F4, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="F4" />
                    <DataGridTextColumn
                        x:Name="f5Column"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding F5, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="F5" />
                    <DataGridTextColumn
                        x:Name="f6Column"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding F6, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="F6" />
                    <DataGridTextColumn
                        x:Name="f7Column"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding F7, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="F7" />
                    <DataGridTextColumn
                        x:Name="f8Column"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding F8, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="F8" />
                    <DataGridTextColumn
                        x:Name="f9Column"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding F9, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="F9" />
                    <DataGridTextColumn
                        x:Name="f10Column"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding F10, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="F10" />
                    <DataGridTextColumn
                        x:Name="bC1Column"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding BC1, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="BC1" />
                    <DataGridTextColumn
                        x:Name="bC2Column"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding BC2, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="BC2" />
                    <DataGridTextColumn
                        x:Name="templateColumn"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding Template, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="Template" />
                    <DataGridTextColumn
                        x:Name="p1Column"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding P1, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="P1" />
                    <DataGridTextColumn
                        x:Name="p2Column"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding P2, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="P2" />
                    <DataGridTextColumn
                        x:Name="p3Column"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding P3, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="P3" />
                    <DataGridTextColumn
                        x:Name="p4Column"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding P4, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="P4" />
                    <DataGridTextColumn
                        x:Name="p5Column"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding P5, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="P5" />
                    <DataGridTextColumn
                        x:Name="p6Column"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding P6, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="P6" />
                    <DataGridTextColumn
                        x:Name="fIXTURIDColumn"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding FixtureId, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="FIXTURID" />
                    <DataGridCheckBoxColumn
                        x:Name="externTestColumn"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding ExternTest, IsAsync=True, FallbackValue=false}"
                        Header="Extern Test" />
                    <DataGridCheckBoxColumn
                        x:Name="enableTOColumn"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding EnableTO, IsAsync=True, FallbackValue=false}"
                        Header="EnableTO" />
                    <DataGridTextColumn
                        x:Name="tOnrColumn"
                        Width="*"
                        MinWidth="50"
                        Binding="{Binding TOnr, IsAsync=True, Converter={StaticResource TrimString}}"
                        Header="TOnr" />
                </DataGrid.Columns>
            </DataGrid>
        </DockPanel>
    </Grid>
</UserControl>